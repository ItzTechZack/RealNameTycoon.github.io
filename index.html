<!DOCTYPE html>
<html lang="en">
<head>
  <title>Real Name Tycoon</title>
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125357957-1"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-125357957-1');
</script>

<link rel="shortcut icon" type="image/png" href="img/favicon.png">
<link rel="stylesheet" href="https://code.jquery.com/ui/jquery-ui-git.css">
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://code.jquery.com/ui/jquery-ui-git.js"></script>
</head>
<body>


  <fieldset>

    <legend>Tycoon Calculator</legend>
    <p></p>

    <div class="singleField">
      <label for="currentLvl">Current Level</label>
      <input tabindex="0" type="number" id="currentLvl" step="1" placeholder="Required" class="text ui-widget-content ui-corner-all">
    </div>
    <div class="singleField"><div class="singleField">
      <label for="currentLvlExp">Current Level Exp</label>
      <input tabindex="1"  type="number" id="currentLvlExp" step="1" class="text ui-widget-content ui-corner-all">
    </div>

    <div class="singleField">
      <label for="targetLvl">Target Level</label>
      <input type="number" id="targetLvl" step="1" placeholder="Required" class="text ui-widget-content ui-corner-all">
    </div>

    <div class="singleField">
      <label for="voucherPerRun">Vouchers per run</label>
      <input type="number" id="voucherPerRun" step="1" class="text ui-widget-content ui-corner-all">
    </div>

    <div class="singleField">
      <label for="expPerRun">Exp per run</label>
      <input title="By filling this box it will combine the exp and vouchers gained during routes. For this option to work you have to fill the Current Lvl exp as well." type="number" id="expPerRun" step="0.1" class="text ui-widget-content ui-corner-all">
    </div>

    <div class="singleField">
      <label for="isPremium">Premium</label>
      <input type="checkbox" id="isPremium">
      <label for="isDiscord">Discord Linked</label>
      <input type="checkbox" id="isDiscord">
    </div>

    <div class="singleField">

      <div id="noPremiumSelect">
        <label for="voucherTypeNoPremium">Select the voucher type</label>
        <select id="voucherTypeNoPremium">
          <option value="0.2" selected>Airline (Piloting: 0.2 exp)</option>
          <option value="0.3">Casino (Casino: 0.3 exp)</option>
          <option value="0.15">Garbage</option>
          <option value="0.8">Gym (Strength: 0.8)</option>
          <option value="0.1">Heli Pilot (Helicopter Pilot: 0.1)</option>
          <option value="0.6">Mail (Player: 0.6)</option>
          <option value="2.5">Medic (EMS: 2.5)</option>
          <option value="0.2">Police</option>
          <option value="1.2">Train</option>
        </select>
      </div>

      <div id="yesPremiumSelect" class="hiddenS">
        <label for="voucherTypeYesPremium">Select the <b>PREMIUM</b> voucher type</label>
        <select id="voucherTypeYesPremium">
          <option value="0.3" selected>Airline (Piloting: 0.3 exp)</option>
          <option value="0.45" >Casino (Casino: 0.45 exp)</option>
          <option value="0.23" >Garbage</option>
          <option value="1.2" >Gym (Strength: 1.2)</option>
          <option value="0.15" >Heli Pilot (Helicopter Pilot: 0.15)</option>
          <option value="0.9" >Mail (Player: 0.9)</option>
          <option value="3.75" >Medic (EMS: 3.75)</option>
          <option value="0.3" >Police</option>
          <option value="1.2" >Train</option>
        </select>

      </div>

      <!--Garbage-->
      <div id="garbageNoPremium" style="margin-top:10px" class="hiddenS">
        <label for="voucherTypeGarbageNoPremium">Select the sub-voucher type</label>
        <select id="voucherTypeGarbageNoPremium">
          <option value="0.15" selected>Garbage: 0.15 exp</option>
          <option value="0.15">Player: 0.15 exp</option>
          <option value="0.15">Trucking: 0.15 exp</option>
        </select>
      </div>
      <div id="garbageYesPremium" style="margin-top:10px" class="hiddenS">
        <label for="voucherTypeGarbageYesPremium">Select the <b>PREMIUM</b> sub-voucher type</label>
        <select id="voucherTypeGarbageYesPremium">
          <option value="0.23" selected>Garbage: 0.23 exp</option>
          <option value="0.23">Player: 0.23 exp</option>
          <option value="0.23">Trucking: 0.23 exp</option>
        </select>
      </div>

      <!--Police-->
      <div id="policeNoPremium" style="margin-top:10px" class="hiddenS">
        <label for="voucherTypePoliceNoPremium">Select the sub-voucher type</label>
        <select id="voucherTypePoliceNoPremium">
          <option value="0.2" selected>Police: 0.2</option>
          <option value="0.1">Player 0.1</option>
        </select>
      </div>
      <div id="policeYesPremium" style="margin-top:10px" class="hiddenS">
        <label for="voucherTypePoliceYesPremium">Select the <b>PREMIUM</b> sub-voucher type</label>
        <select id="voucherTypePoliceYesPremium">
          <option value="0.3" selected>Police: 0.3</option>
          <option value="0.15">Player 0.15</option>
        </select>
      </div>

      <!--Train-->
      <div id="trainNoPremium" style="margin-top:10px" class="hiddenS">
        <label for="voucherTypeTrainNoPremium">Select the sub-voucher type</label>
        <select id="voucherTypeTrainNoPremium">
          <option value="1.2" selected>Train Conductor: 1.2</option>
          <option value="0.2">Strength: 0.2</option>
          <option value="0.2">Player: 0.2</option>
        </select>
      </div>
      <div id="trainYesPremium" style="margin-top:10px" class="hiddenS">
        <label for="voucherTypeTrainYesPremium">Select the <b>PREMIUM</b> sub-voucher type</label>
        <select id="voucherTypeTrainYesPremium">
          <option value="1.8" selected>Train Conductor: 1.8</option>
          <option value="0.3">Strength: 0.3</option>
          <option value="0.3">Player: 0.3</option>
        </select>
      </div>


    </div>




    <div class="singleField">
      <button class="ui-button ui-widget ui-corner-all" id="submitVoucher">Calculate</button>
    </div>

  </fieldset>


  <fieldset>
    <legend>Result</legend>
    <p></p>
    <label for="voucherAmmount">Vouchers needed</label>
    <input type="text" id="voucherAmmount" class="text ui-widget-content ui-corner-all notAllowed" disabled>
    <label for="expAmmount">Exp needed</label>
    <input type="text" id="expAmmount" class="text ui-widget-content ui-corner-all notAllowed" disabled>
    <label for="runsAmmount">Number of runs</label>
    <input type="text" id="runsAmmount" class="text ui-widget-content ui-corner-all notAllowed" disabled>
    <hr style="height: 10px; border:0; box-shadow: 0 8px 8px -10px #8c8b8b inset; margin-top:20px">
    <legend>How to use</legend>
    <p><b>Current Level: </b>Current level on the job to level up.</p>
    <p><b>Current Level Exp: </b>The exact exp on the job to level up. Not required but much more accurate.</p>
    <p><b>Target Level: </b>The job level you want to achieve.</p>
    <p><b>Vouchers per run: </b>You need to make a route and add up how many vouchers you get.</p>
    <p><b>Exp per run: </b>Same as the vouchers per run, you'll need to add up the total exp gained in a run. Note this only works if all fields are completed.</p>
    <p><b>Discord Linked: </b>Is your discord linked with the server? If yes tick the box.</p>
    <p><b>Premium: </b>Are you premium? If yes tick the box.</p>
    <p><b>Voucher type: </b>Pretty self explanatory.</p>
    <p><b>Sub-Voucher type: </b>Some vouchers (Garbage/Police/Train) give multiple exp categories at once, select the one you want to calculate.</p>
  </fieldset>

  <fieldset>
    <legend>Links</legend>
    <p><a href="/icons">Icons</a></p>
    <p><a href="https://docs.google.com/spreadsheets/d/1M9HoC-Ts4xsgPlY_GHOs0A7a8eXel6M0SNq1KxPaXDU/edit#gid=0">Routes by berni1212</a></p>
  </fieldset>

  <fieldset>
    <legend>Updates</legend>
    <p><h4>09/04/2018:</h4> Added Exp per run. Now you should be able to precisely Calculate
      how many exact routes you need combining exp gain during the route + route vouchers.<br> Added Discord Link bonus.<br>Added sub-vouchers categories to Garbage/Police/Train</h4>
      <h4>If you encounter any bugs or want to give some feedback please reach me on discord @Real Name#1251</p>
      </fieldset>

      <h4 id="lastUpdated" style="color:red">Last updated - 09/04/2018</h4>


      <script>
      $( document ).ready(function() {



      $("#voucherTypeYesPremium").on('selectmenuchange', hideOrNotFunction);
      $("#voucherTypeNoPremium").on('selectmenuchange', hideOrNotFunction);

      function hideOrNotFunction(a){
        //console.log(a.target.selectedIndex);
        //console.log(this.selectedIndex);
        chooseIdx = 0;
        try{
          chooseIdx = a.target.selectedIndex;

        }catch(e){
          chooseIdx = a;
        }
        hideAll();
        isItPremium = $("#isPremium").prop('checked');
        switch (chooseIdx) {
          case 2:{
            //GARBAGE
            if(isItPremium){
              $("#garbageYesPremium").toggleClass("hiddenS");
              $("#garbageNoPremium").addClass("hiddenS");
            }else{
              $("#garbageNoPremium").toggleClass("hiddenS");
              $("#garbageYesPremium").addClass("hiddenS");
            }
          }break;
          case 7:{
            //POLICE
            if(isItPremium){
              $("#policeYesPremium").toggleClass("hiddenS");
              $("#policeNoPremium").addClass("hiddenS");
            }else{
              $("#policeNoPremium").toggleClass("hiddenS");
              $("#policeYesPremium").addClass("hiddenS");
            }
          }break;
          case 8:{
            //TRAIN
            if(isItPremium){
              $("#trainYesPremium").toggleClass("hiddenS");
              $("#trainNoPremium").addClass("hiddenS");
            }else{
              $("#trainNoPremium").toggleClass("hiddenS");
              $("#trainYesPremium").addClass("hiddenS");
            }
          }break;
          default:{
            hideAll();
          }

        }
      }

      function hideAll(){
        $("#garbageYesPremium").addClass("hiddenS");
        $("#garbageNoPremium").addClass("hiddenS");
        $("#policeYesPremium").addClass("hiddenS");
        $("#policeNoPremium").addClass("hiddenS");
        $("#trainYesPremium").addClass("hiddenS");
        $("#trainNoPremium").addClass("hiddenS");
      }



      $(document).keypress(function(e) {
        if(e.which == 13) {
          $("#submitVoucher").trigger("click");
        }
      });

      $( document ).tooltip();
      $( "#submitVoucher" ).button();
      $( "#voucherTypeNoPremium" ).selectmenu();
      $( "#voucherTypeYesPremium" ).selectmenu();
      $( "#voucherTypeGarbageNoPremium" ).selectmenu();
      $( "#voucherTypeGarbageYesPremium" ).selectmenu();
      $( "#voucherTypePoliceNoPremium" ).selectmenu();
      $( "#voucherTypePoliceYesPremium" ).selectmenu();
      $( "#voucherTypeTrainNoPremium" ).selectmenu();
      $( "#voucherTypeTrainYesPremium" ).selectmenu();

      $("#isPremium").checkboxradio();
      $("#isDiscord").checkboxradio();

      $("#isPremium").change(function() {
        $("#noPremiumSelect").toggleClass("hiddenS");
        $("#yesPremiumSelect").toggleClass("hiddenS");

        if($("#isPremium").prop('checked')){
          hideOrNotFunction($("#voucherTypeYesPremium").prop('selectedIndex'));
        }else{
          hideOrNotFunction($("#voucherTypeNoPremium").prop('selectedIndex'));
        }

      });

      $("#targetLvl").on("input", a =>{

        if(parseInt($("#currentLvl").val()) >= parseInt($("#targetLvl").val())){
          $("#targetLvl").css("border-color","red");
          $("#targetLvl").css("border-width","2px");
        }else{
          $("#targetLvl").css("border-color","green");
          $("#targetLvl").css("border-width","2px");
        }
      });

      $("#submitVoucher").click(b =>{



        b.preventDefault();
        b.stopPropagation();



        if($("#currentLvl").val() == 0 || $("#currentLvl").val() == null
        || $("#targetLvl").val() == 0 || $("#targetLvl").val() == null){
          alert("Please fill all required fields")
        }else if(parseInt($("#currentLvl").val()) >= parseInt($("#targetLvl").val())){
          alert("Target Level has to be higher than Current Level");
        }else if(($("#expPerRun").val() != null && $("#expPerRun").val() > 0)
        &&(($("#currentLvlExp").val() == null || $("#currentLvlExp").val() < 0 || $("#currentLvlExp").val() == "")||($("#voucherPerRun").val() == null || $("#voucherPerRun").val() < 0 || $("#voucherPerRun").val() == ""  ))){
          alert('In order for "Exp per run" to work you have to fill all the fields')
        }else{
          currentLvl =  parseInt($("#currentLvl").val());
          currentLvlExp = isNaN(parseInt($("#currentLvlExp").val()))?0:parseInt($("#currentLvlExp").val()) ;
          targetLvl  =  parseInt($("#targetLvl").val());
          voucherRun =  isNaN(parseInt($("#voucherPerRun").val()))?0:parseInt($("#voucherPerRun").val()) ;
          expRun = isNaN(parseFloat($("#expPerRun").val()))?0:parseFloat($("#expPerRun").val()) ;
          isPremium  =  $("#isPremium").prop('checked');
          isDiscord = $("#isDiscord").prop('checked');

          if(isPremium){


            switch ($( "#voucherTypeYesPremium" ).prop("selectedIndex")) {
              case 2:{
                voucherExp = $( "#voucherTypeGarbageYesPremium" ).val();
              }break;
              case 7:{
                voucherExp = $( "#voucherTypePoliceYesPremium" ).val();
              }break;
              case 8:{
                voucherExp = $( "#voucherTypeTrainYesPremium" ).val();
              }break;
              default:{
                voucherExp =  $( "#voucherTypeYesPremium" ).val();
              }

            }

          }else{

            switch ($( "#voucherTypeNoPremium" ).prop("selectedIndex")) {
              case 2:{
                voucherExp = $( "#voucherTypeGarbageNoPremium" ).val();
              }break;
              case 7:{
                voucherExp = $( "#voucherTypePoliceNoPremium" ).val();
              }break;
              case 8:{
                voucherExp = $( "#voucherTypeTrainNoPremium" ).val();
              }break;
              default:{
                voucherExp =  $( "#voucherTypeNoPremium" ).val();
              }

            }
          }

          if(isDiscord){
            voucherExp = parseFloat(voucherExp);
            voucherExp = voucherExp + (voucherExp*0.05);
            console.log(voucherExp);
          }



          expAim = 0;
          voucherAmmount = 0;

          if(currentLvlExp != null && currentLvlExp > 0){
            for(i=1; i<=targetLvl; i++){
              expAim += i*5;
            }
            expAim = expAim - currentLvlExp;

            if(expRun != null && expRun > 0){
              countdownExpAim = expAim;
              totalRuns = 0;
              totalVouchers = 0;
              while(countdownExpAim > 0){
                totalRuns++;
                totalVouchers+=voucherRun;
                countdownExpAim = countdownExpAim - (voucherRun*voucherExp + expRun);
              }
              $("#voucherAmmount").val(Math.ceil(totalVouchers));
              $("#runsAmmount").val(totalRuns);
              $("#expAmmount").val(Math.ceil(expAim));
            }

          }else {
            for(i=currentLvl+1; i<=targetLvl; i++){
              expAim += i*5;
            }
          }

          voucherAmmount = expAim/voucherExp;

          if(expRun == null || expRun == "" || expRun <0){
            $("#voucherAmmount").val(Math.ceil(voucherAmmount));
            if(voucherRun!= null && voucherRun >0){
              $("#runsAmmount").val(Math.ceil(voucherAmmount/voucherRun));
            }else{
              $("#runsAmmount").val("Not specified or invalid")
            }
            $("#expAmmount").val(Math.ceil(expAim));
          }




          /*    console.log("currentLvl->",currentLvl);
          console.log("targetLvl->",targetLvl);
          console.log("expAim->",expAim);
          console.log("voucherExp->",voucherExp);
          console.log("voucherRun->",voucherRun);
          */
        }



      })

    });

    </script>
    <style>

    body{
      font-family: arial,sans-serif;
    }

    label{
      display:block;
    }

    fieldset{

      float: left;
      width: 300px;
      height: auto;
    }
    input{
      padding: .4em;
      display: block;
      margin-bottom: 10px;
    }
    .singleField{
      margin-bottom: 15px;
    }

    .notAllowed {
      cursor: not-allowed;
    }

    .hiddenS{
      display: none;
    }
    #lastUpdated{
      position: fixed;
      bottom: 0;
      right: 0;
    }


    </style>
    </body>
    </html>
